<cdk-virtual-scroll-viewport
	class="ch-vscroll-viewport"
	[ngClass]="{ 'ch-scroll-hidden': !scrollbarVisible }"
	[style.height]="'100%'"
	[itemSize]="itemSize"
	[minBufferPx]="height"
	[maxBufferPx]="height"
	(scrolledIndexChange)="handleScrolledIndexChanged($event)"
	chClickTouchHold
	trackDataAttribute="data-emoji"
	(onClick)="handleClick($event)"
	(onTouchHold)="handleTouchHold($event)"
>
	<div
		class="ch-static-category ch-sticky ch-row"
		[style.display]="scrollIndex === 0 ? 'none' : 'block'"
	>
		<div class="ch-emoji-group-title">
			{{ currentCategory }}
		</div>
	</div>

	<div
		*cdkVirtualFor="
			let row of rows;
			let index = index;
			trackBy: trackEmojiRow
		"
		class="ch-row"
		[ngClass]="{
			'ch-sticky': row.type === 'category',
			'ch-virtual-category': row.type === 'category'
		}"
	>
		<ng-container *ngIf="row.type === 'category'">
			<div class="ch-emoji-group-title">
				{{ row.value }}
			</div>
		</ng-container>

		<ng-container *ngIf="row.type === 'emoji'">
			<ng-container
				*ngFor="let emoji of row.value; trackBy: trackEmoji"
			>
				<!-- <div class="emoji-container"> -->
				<button class="ch-emoji-btn" [attr.data-emoji]="emoji.name">
					{{ emoji.value }}
				</button>
			</ng-container>
		</ng-container>
	</div>
</cdk-virtual-scroll-viewport>
